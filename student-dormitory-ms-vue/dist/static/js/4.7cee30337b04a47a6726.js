webpackJsonp([4],{"2YDi":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"NewLogin",data:function(){return{loginForm:{username:"",password:"",status:""},loginFormRules:{username:[{validator:function(t,e,o){if(!e)return o(new Error("用户名不能为空"));o()},trigger:"blur"}],password:[{validator:function(t,e,o){if(!e)return o(new Error("密码不能为空"));o()},trigger:"blur"}]},options:[{value:"1",label:"学生"},{value:"2",label:"宿舍管理员"},{value:"3",label:"宿舍管理中心"}],responseResult:[],value:""}},methods:{login:function(){var t=this;this.$axios.post("/login",{id:this.loginForm.username,psw:this.loginForm.password,status:this.loginForm.status.toString()}).then(function(e){200===e.data.code&&(t.COMMON.id=t.loginForm.username,t.COMMON.status=t.loginForm.status.toString(),"1"===t.loginForm.status.toString()?t.$router.replace({path:"/student"}):"2"===t.loginForm.status.toString()?t.$router.replace({path:"/build"}):"3"===t.loginForm.status.toString()&&t.$router.replace({path:"/manager"})),400===e.data.code&&t.$message({message:"登录失败，用户名或密码错误",type:"error"})}).catch(function(t){})},forget:function(){alert("请联系宿舍管理员或宿管中心重置密码！")}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"all"},[o("div",{staticClass:"box1"},[o("div",{staticClass:"box2"},[o("div",{staticClass:"title"},[t._v("大学生宿舍管理系统")]),t._v(" "),o("el-form",{staticClass:"form",attrs:{rules:t.loginFormRules,"label-width":"100px",model:t.loginForm}},[o("el-form-item",{attrs:{label:"用户类型",prop:"region"}},[o("el-select",{attrs:{placeholder:"请选择用户类型"},model:{value:t.loginForm.status,callback:function(e){t.$set(t.loginForm,"status",e)},expression:"loginForm.status"}},[o("el-option",{attrs:{label:"学生",value:"1"}}),t._v(" "),o("el-option",{attrs:{label:"宿舍管理员",value:"2"}}),t._v(" "),o("el-option",{attrs:{label:"宿管中心",value:"3"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"确认密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1)],1),t._v(" "),o("div",{staticClass:"login-button"},[o("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1),t._v(" "),o("div",{staticClass:"forget-psw"},[o("div",{attrs:{align:"center"},on:{click:t.forget}},[t._v("忘记密码？")])])],1)])])},staticRenderFns:[]};var s=o("VU/8")(r,a,!1,function(t){o("gWKM")},"data-v-df790224",null);e.default=s.exports},gWKM:function(t,e){}});